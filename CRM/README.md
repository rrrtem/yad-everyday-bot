# YAD Everyday CRM

> **üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω!** –ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ main –≤–µ—Ç–∫—É –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ Vercel.

CRM —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ YAD Everyday –±–æ—Ç–∞.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Next.js 14 + TypeScript
- Radix UI
- Tailwind CSS
- Supabase JS SDK

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/CRM
  /src
    /app
      /api/users          - API route –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
      /dashboard          - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ CRM
      /login              - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
      - layout.tsx        - –ì–ª–∞–≤–Ω—ã–π –ª–µ–π–∞—É—Ç
      - page.tsx          - –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
      - globals.css       - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
    /components           - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
      - LoginForm.tsx     - –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞
      - UserCard.tsx      - –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      - Filters.tsx       - –§–∏–ª—å—Ç—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      - UserList.tsx      - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    /lib
      - supabase.ts       - –ö–ª–∏–µ–Ω—Ç Supabase
    - constants.ts        - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
  - package.json
  - next.config.js        - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js
  - tailwind.config.js    - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tailwind
  - tsconfig.json         - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
```

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
```bash
cp .env.example .env.local
```

3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env.local`:
```
NEXT_PUBLIC_SUPABASE_URL=–≤–∞—à-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-supabase-service-role-key
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
npm run dev
```

## –°–±–æ—Ä–∫–∞

```bash
npm run build
```

## –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### üéØ –ü—Ä–æ–¥–∞–∫—à–Ω URL
**–¢–µ–∫—É—â–∏–π –¥–µ–ø–ª–æ–π:** https://everyday-acz6r515o-rrrtems-projects.vercel.app

### üìã –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞)

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Vercel CLI:**
```bash
npm install -g vercel
```

2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
```bash
vercel login
```

3. **–ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π:**
```bash
vercel
```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞](https://vercel.com/rrrtems-projects/everyday-crm/settings)
   - –í —Ä–∞–∑–¥–µ–ª–µ **Environment Variables** –¥–æ–±–∞–≤—å—Ç–µ:
     - `NEXT_PUBLIC_SUPABASE_URL` - URL –≤–∞—à–µ–≥–æ Supabase –ø—Ä–æ–µ–∫—Ç–∞
     - `NEXT_PUBLIC_SUPABASE_ANON_KEY` - –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á Supabase
     - `SUPABASE_SERVICE_ROLE_KEY` - –°–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á Supabase (secret)

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Git –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ—è—Ç—Å—è –ø—Ä–∏ push –≤ main –≤–µ—Ç–∫—É.

#### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é:

1. **Production –¥–µ–ø–ª–æ–π:**
```bash
vercel --prod
```

2. **Preview –¥–µ–ø–ª–æ–π (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):**
```bash
vercel
```

### üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º

- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:** https://vercel.com/rrrtems-projects/everyday-crm/settings
- **–õ–æ–≥–∏ –¥–µ–ø–ª–æ—è:** https://vercel.com/rrrtems-projects/everyday-crm/deployments
- **Domains:** https://vercel.com/rrrtems-projects/everyday-crm/settings/domains

### üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### Production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```bash
# –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Vercel –∏–ª–∏ CLI:
vercel env add NEXT_PUBLIC_SUPABASE_URL
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY  
vercel env add SUPABASE_SERVICE_ROLE_KEY
```

#### –õ–æ–∫–∞–ª—å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```bash
vercel env pull .env.local
```

### üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

```bash
# –î–µ–ø–ª–æ–π –≤ production
npm run build && vercel --prod

# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
vercel

# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ (—á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
# https://vercel.com/rrrtems-projects/everyday-crm/deployments
```

## –î–æ—Å—Ç—É–ø

- **–õ–æ–≥–∏–Ω:** `admin`
- **–ü–∞—Ä–æ–ª—å:** `yad2024`

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—É—é —Ñ–æ—Ä–º—É –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
  - –í —á–∞—Ç–µ (`in_chat = true`)
  - –ë—ã–ª –≤ —á–∞—Ç–µ, –Ω–æ –≤—ã—à–µ–ª (`in_chat = false` –∏ `joined_at IS NOT NULL`)
  - –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª –≤ —á–∞—Ç–µ (`joined_at IS NULL`)
  - –ü–æ–∏—Å–∫ –ø–æ username/ID
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –¥–Ω—è–º –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –¥–µ—Å–∫—Ç–æ–ø–∞
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ –∫–∞–∂–¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –∫–ª—é—á–∞ Supabase
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ Row Level Security (RLS) –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ API Routes 