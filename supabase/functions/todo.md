# TODO: –ù–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Challenge Guardian Bot

‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:**

## A. –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **A1** - –ö–æ–º–∞–Ω–¥–∞ /start (startCommandHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

## –ë. CRON —Ñ—É–Ω–∫—Ü–∏–∏:
- **–ë1** - –£—á—ë—Ç –ø–æ—Å—Ç–∞ #daily (dailyPostHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **–ë2** - dailyCron (cronHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –æ—Ç—á–µ—Ç–∞–º–∏ + —Ñ—É–Ω–∫—Ü–∏—è allInfo
- **–ë3** - –ü—É–±–ª–∏—á–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (cronHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- **–ë4** - –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç (newChatMemberHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **–ë5** - –í—ã—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —á–∞—Ç–∞ (leftChatMemberHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **–ë6** - Webhook –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ Tribute (tributeApiHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **–ë7** - Webhook –æ—Ç–º–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏ Tribute (tributeApiHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

## –í. –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:
- **–í1** - –ö–æ–º–∞–Ω–¥–∞ /get (commandHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- **–í3** - –°–∏–º—É–ª—è—Ü–∏—è Tribute webhook'–æ–≤ (commandHandler.ts) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò:

### A. –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–í–°–ï –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–´):

#### A2 - /cancel ‚Äî –æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- –ö–æ–º–∞–Ω–¥–∞ `/cancel` –≤ –ª–∏—á–∫—É –±–æ—Ç—É
- –û—Ç–ø—Ä–∞–≤–∫–∞ MSG_CANCEL —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ—Ç–º–µ–Ω—É –ø–æ–¥–ø–∏—Å–∫–∏ Tribute
- –§–∏–∫—Å–∞—Ü–∏—è –¥–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Å—ã–ª–∫–∏ (payment_cancel_link_sent)

#### A3 - /change_pace ‚Äî —Å–º–µ–Ω–∞ —Ä–∏—Ç–º–∞
- –ö–æ–º–∞–Ω–¥–∞ `/change_pace` 
- MSG_CHANGE_PACE —Å –≤—ã–±–æ—Ä–æ–º –Ω–æ–≤–æ–≥–æ —Ä–∏—Ç–º–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è pace –∏ pace_changed_at

#### A4 - /change_mode ‚Äî —Å–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞
- –ö–æ–º–∞–Ω–¥–∞ `/change_mode`
- MSG_CHANGE_MODE —Å –≤—ã–±–æ—Ä–æ–º –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Ä–∏—Ç–º–∞ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π mode, pace, mode_changed_at, pace_changed_at

#### A5 - /public_remind ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π  
- –ö–æ–º–∞–Ω–¥–∞ `/public_remind`
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—è public_remind (true/false)
- MSG_CHANGE_PUBLIC_REMIND_ON / MSG_CHANGE_PUBLIC_REMIND_OFF

#### A6 - /pause ‚Äî –≤–∑—è—Ç—å –∫–∞–Ω–∏–∫—É–ª—ã
- –ö–æ–º–∞–Ω–¥–∞ `/pause`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ in_chat –ø–µ—Ä–µ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞—É–∑—ã
- MSG_PAUSE —Å –∑–∞–ø—Ä–æ—Å–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π (1-MAX_PAUSE_DAYS)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ –¥–Ω–µ–π –ø–∞—É–∑—ã
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pause_started_at, pause_until, pause_days
- MSG_PAUSE_CONF, MSG_PAUSE_ALREADY, MSG_PAUSE_INACTIVE –∏ –¥—Ä.

#### A7 - /resume ‚Äî —Å–Ω—è—Ç—å —Å –ø–∞—É–∑—ã
- –ö–æ–º–∞–Ω–¥–∞ `/resume`
- –î–æ—Å—Ä–æ—á–Ω–æ–µ —Å–Ω—è—Ç–∏–µ —Å –ø–∞—É–∑—ã (—Å–±—Ä–æ—Å pause_started_at, pause_until)
- MSG_RESUME_SOON, MSG_RESUME_ERR

#### A8 - /status ‚Äî —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
- –ö–æ–º–∞–Ω–¥–∞ `/status`
- MSG_STATUS —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ:
  - –î–∞—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏ (joined_at)
  - –î–∞—Ç–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è (next_payment_at)
  - –û—Å—Ç–∞–≤—à–∏—Ö—Å—è –¥–Ω—è—Ö (subscription_days_left)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ –¥–Ω–µ–π —É—á–∞—Å—Ç–∏—è (units_count)
  - –¢–µ–∫—É—â–µ–º —Ä–µ–∂–∏–º–µ –∏ —Ä–∏—Ç–º–µ (mode, pace)
  - –°—Ç–∞—Ç—É—Å–µ active, public_remind

#### A9 - /help ‚Äî —Å–ø—Ä–∞–≤–∫–∞
- –ö–æ–º–∞–Ω–¥–∞ `/help`
- MSG_HELP —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥

---

### –ë. CRON —Ñ—É–Ω–∫—Ü–∏–∏ (–ß–ê–°–¢–ò–ß–ù–û –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–´):

#### –ë2.1 - weeklyCron ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- **–ü–û–õ–ù–û–°–¢–¨–Æ –û–¢–°–£–¢–°–¢–í–£–ï–¢** —Ñ—É–Ω–∫—Ü–∏—è weeklyCron –≤ cronHandler.ts
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å pace = "weekly"
- –õ–æ–≥–∏–∫–∞ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã—Ö –¥–µ–¥–ª–∞–π–Ω–æ–≤ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
- MSG_STRIKE_WEEKLY_FIRST/SECOND/THIRD/FOURTH

---

### –í. –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã (–ß–ê–°–¢–ò–ß–ù–û –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–´):

#### –í2 - –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ handleOwnerCommands
- `/weekly` ‚Äî –∑–∞–ø—É—Å–∫ weeklyCron –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–ù–ï–¢, —Ç.–∫. –Ω–µ—Ç —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏)
- `/allinfo` ‚Äî –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ allInfo (‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù)

---

## ‚ùå –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–ï –ö–û–ù–°–¢–ê–ù–¢–´ –í constants.ts:

### –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **MAX_PAUSE_DAYS** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –ø–∞—É–∑—ã
- **MSG_CANCEL** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ—Ç–º–µ–Ω—É –ø–æ–¥–ø–∏—Å–∫–∏
- **MSG_CHANGE_PACE** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å–º–µ–Ω—ã —Ä–∏—Ç–º–∞
- **MSG_CHANGE_MODE** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞  
- **MSG_CHANGE_PUBLIC_REMIND_ON/OFF** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- **MSG_PAUSE** ‚Äî –∑–∞–ø—Ä–æ—Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π –ø–∞—É–∑—ã
- **MSG_PAUSE_CONF** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—É–∑—ã
- **MSG_PAUSE_ALREADY** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –Ω–∞ –ø–∞—É–∑–µ
- **MSG_PAUSE_INACTIVE** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **MSG_PAUSE_INVALID_DAYS** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –≤–≤–æ–¥–µ –¥–Ω–µ–π
- **MSG_PAUSE_TOO_LONG** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –¥–Ω–µ–π
- **MSG_RESUME_SOON** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–Ω—è—Ç–∏—è —Å –ø–∞—É–∑—ã
- **MSG_RESUME_ERR** ‚Äî –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–Ω—è—Ç—å —Å –ø–∞—É–∑—ã
- **MSG_STATUS** ‚Äî —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **MSG_HELP** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- **WEEKLY_CHECK_DAY** ‚Äî –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (1 = –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
- **MSG_STRIKE_WEEKLY_FIRST** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø—Ä–æ–ø—É—Å–∫–µ –Ω–µ–¥–µ–ª–∏
- **MSG_STRIKE_WEEKLY_SECOND** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ç–æ—Ä–æ–º –ø—Ä–æ–ø—É—Å–∫–µ –Ω–µ–¥–µ–ª–∏
- **MSG_STRIKE_WEEKLY_THIRD** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ —Ç—Ä–µ—Ç—å–µ–º –ø—Ä–æ–ø—É—Å–∫–µ –Ω–µ–¥–µ–ª–∏
- **MSG_STRIKE_WEEKLY_FOURTH** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ —á–µ—Ç–≤–µ—Ä—Ç–æ–º –ø—Ä–æ–ø—É—Å–∫–µ –Ω–µ–¥–µ–ª–∏ + –ø–∞—É–∑–∞

---

## üìã –ü–†–ò–û–†–ò–¢–ï–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò:

### üî¥ **–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:**
1. **A6-A9** ‚Äî –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (/pause, /resume, /status, /help)
2. **A2-A5** ‚Äî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (/cancel, /change_pace, /change_mode, /public_remind)

### üü° **–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:**
3. **–ë2.1** ‚Äî –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (weeklyCron) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∏—Ç–º–æ–º "weekly"

### üü¢ **–ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:**
4. **–í2** ‚Äî –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã (/weekly)

---

## üìä **–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ì–û–¢–û–í–ù–û–°–¢–ò:**

**–ì–æ—Ç–æ–≤–æ: 10/19 —Ñ—É–Ω–∫—Ü–∏–π (53%)**
- ‚úÖ A1 - /start
- ‚úÖ –ë1-–ë7 - –í—Å–µ CRON —Ñ—É–Ω–∫—Ü–∏–∏ –∏ webhook'–∏
- ‚úÖ –í1, –í3 - –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã /get –∏ /test_webhook

**–ù–µ –≥–æ—Ç–æ–≤–æ: 9/19 —Ñ—É–Ω–∫—Ü–∏–π (47%)**
- ‚ùå A2-A9 - –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (8 —Ñ—É–Ω–∫—Ü–∏–π)
- ‚ùå –ë2.1 - weeklyCron (1 —Ñ—É–Ω–∫—Ü–∏—è)

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: ~35 —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** 