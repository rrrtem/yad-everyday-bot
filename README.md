# Challenge Guardian Bot (Supabase Edition)




## Актуальные задачи (todo)

- [ ] **Улучшить UX для ручного добавления пользователей**  
  (например, команда для добавления по telegram_id или username, если это возможно через API)
- [ ] **Гибкая настройка сообщений**  
  (вынести все тексты в YAML/JSON для hot reload без деплоя)
- [ ] **Более гибкая система напоминаний**  
  (учёт часового пояса пользователя, кастомизация времени напоминаний)
- [ ] **Rate-limit личных сообщений**  
  (чтобы не спамить пользователям при сбоях cron)
- [ ] **Автоматизация удаления из чата через Telegram API**  
  (если есть права)
- [ ] **Покрытие кода unit-тестами**
- [ ] **Рефакторинг cron-функции**  
  (вынести в отдельную edge function, если потребуется)
- [ ] **Явное хранение дедлайна штрафа**  
  (penalty_deadline в users, напоминания и удаление по этому полю)
- [ ] **[30+ участников] Перевести обработку сообщений и рассылок на асинхронные задачи**  
  (чтобы избежать задержек при увеличении числа пользователей)
- [ ] **[30+ участников] Оптимизировать запросы к базе данных**  
  (проверить индексы, избавиться от N+1, использовать bulk-операции для массовых рассылок)
- [ ] **[30+ участников] Вести мониторинг времени обработки и ошибок**  
  (логировать задержки, ошибки, аномалии для быстрого поиска узких мест)
- [ ] **[30+ участников] Реализовать массовую отправку сообщений (batching)**  
  (если позволяет платформа, отправлять сообщения пачками)
- [ ] **[50+ участников] Кэшировать часто используемые данные**  
  (например, профили участников, настройки челленджа, чтобы снизить нагрузку на БД)
- [ ] **[50+ участников] Ввести лимитирование и очереди на отправку сообщений**  
  (если есть лимиты у Telegram API, реализовать очередь с контролем скорости)
- [ ] **[100+ участников] Подготовить возможность горизонтального масштабирования**  
  (запуск нескольких экземпляров бота с балансировкой нагрузки)
